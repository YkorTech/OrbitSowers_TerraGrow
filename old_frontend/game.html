<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TerraGrow Academy - Jeu</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="game-header">
            <div class="header-info">
                <h1>üåç TerraGrow Academy</h1>
                <p id="region-name" class="region-name"></p>
            </div>
            <div class="header-stats">
                <div class="stat">
                    <span class="stat-label">Semaine</span>
                    <span id="current-week" class="stat-value">1</span>
                    <span class="stat-max">/ 12</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Budget</span>
                    <span id="budget" class="stat-value">$2000</span>
                </div>
            </div>
        </header>

        <!-- Main Game Area -->
        <main class="game-main">
            <!-- Left Panel: Satellite Data -->
            <aside class="data-panel">
                <h2>üì° Donn√©es satellites NASA</h2>

                <div class="data-card">
                    <h3>üå± Sant√© culture (NDVI)</h3>
                    <div class="ndvi-display">
                        <div class="ndvi-bar">
                            <div id="ndvi-fill" class="ndvi-fill" style="width: 15%;"></div>
                        </div>
                        <p class="ndvi-value">NDVI: <span id="ndvi-value">0.15</span></p>
                        <p class="health-status" id="health-status">üåø Semis</p>
                    </div>
                </div>

                <div class="data-card">
                    <h3>üíß Humidit√© du sol</h3>
                    <p class="data-value"><span id="moisture">50</span>%</p>
                    <p class="data-status" id="moisture-status">Optimal</p>
                </div>

                <div class="data-card">
                    <h3>üå°Ô∏è M√©t√©o actuelle</h3>
                    <p class="data-value"><span id="temperature">25</span>¬∞C</p>
                    <p class="data-info">Pluie pr√©vue: <span id="rain-forecast">10</span> mm</p>
                </div>

                <div class="data-card">
                    <h3>üåø Azote (N) disponible</h3>
                    <p class="data-value"><span id="nitrogen">80</span> kg/ha</p>
                </div>

                <div class="info-box">
                    <p>üìä <small>Donn√©es en temps r√©el NASA POWER</small></p>
                </div>
            </aside>

            <!-- Center Panel: Field Visualization -->
            <section class="field-panel">
                <div class="field-visual">
                    <div id="field" class="field">
                        <div class="crop-icon">üåæ</div>
                        <p class="crop-name" id="crop-name">Ma√Øs</p>
                    </div>
                </div>

                <!-- NDVI History Chart -->
                <div class="chart-container">
                    <h3>üìà √âvolution NDVI</h3>
                    <canvas id="ndvi-chart"></canvas>
                </div>

                <!-- Messages Feed -->
                <div id="messages" class="messages-feed"></div>
            </section>

            <!-- Right Panel: Actions -->
            <aside class="actions-panel">
                <h2>‚öôÔ∏è D√©cisions hebdomadaires</h2>

                <!-- Irrigation -->
                <div class="action-card">
                    <h3>üíß Irrigation</h3>
                    <div class="slider-container">
                        <input type="range" id="irrigation-slider" min="0" max="30" step="5" value="0" class="slider">
                        <div class="slider-labels">
                            <span>0 mm</span>
                            <span>15 mm</span>
                            <span>30 mm</span>
                        </div>
                    </div>
                    <p class="slider-value">
                        Quantit√©: <span id="irrigation-value">0</span> mm
                    </p>
                    <p class="cost">Co√ªt: $<span id="irrigation-cost">0</span></p>
                    <div class="tooltip">
                        üí° <small>Ajuster selon humidit√© sol et pluie pr√©vue</small>
                    </div>
                </div>

                <!-- Fertilization -->
                <div class="action-card">
                    <h3>üåø Fertilisation (Azote)</h3>
                    <div class="slider-container">
                        <input type="range" id="fertilizer-slider" min="0" max="100" step="10" value="0" class="slider">
                        <div class="slider-labels">
                            <span>0 kg</span>
                            <span>50 kg</span>
                            <span>100 kg</span>
                        </div>
                    </div>
                    <p class="slider-value">
                        Quantit√©: <span id="fertilizer-value">0</span> kg N/ha
                    </p>
                    <p class="cost">Co√ªt: $<span id="fertilizer-cost">0</span></p>
                    <div class="tooltip">
                        üí° <small>Optimal: 10-15 kg N/ha par semaine</small>
                    </div>
                </div>

                <!-- Total Cost -->
                <div class="total-cost">
                    <h3>Total cette semaine</h3>
                    <p class="total-value">$<span id="total-cost">0</span></p>
                </div>

                <!-- Validate Button -->
                <button id="validate-btn" class="btn btn-success btn-large">
                    ‚úÖ Valider la semaine
                </button>

                <div class="action-info">
                    <p><small>‚è∞ Chaque d√©cision affecte la croissance de votre culture</small></p>
                </div>
            </aside>
        </main>

        <!-- Loading Overlay -->
        <div id="loading" class="loading-overlay" style="display: none;">
            <div class="loading-spinner">
                <div class="spinner"></div>
                <p>Simulation en cours...</p>
            </div>
        </div>
    </div>

    <script src="js/api-client.js"></script>
    <script src="js/game.js"></script>
</body>
</html>
