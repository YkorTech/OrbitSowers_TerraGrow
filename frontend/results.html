<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TerraGrow Academy - Résultats</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>🌾 Récolte terminée !</h1>
            <p class="tagline">Découvrez vos résultats</p>
        </header>

        <!-- Results -->
        <main class="results-main">
            <!-- Score Cards -->
            <div class="results-grid">
                <!-- Yield Card -->
                <div class="result-card card-primary">
                    <h2>🏆 Rendement</h2>
                    <div class="score-display">
                        <p class="score-value" id="yield-value">6.5</p>
                        <p class="score-unit">tonnes/ha</p>
                    </div>
                    <div class="comparison">
                        <p class="comparison-label">Moyenne régionale</p>
                        <p class="comparison-value">
                            <span id="regional-avg">5.2</span> t/ha
                        </p>
                        <p class="comparison-diff" id="yield-diff">+25%</p>
                    </div>
                </div>

                <!-- Sustainability Card -->
                <div class="result-card card-success">
                    <h2>♻️ Durabilité</h2>
                    <div class="score-display">
                        <p class="score-value" id="sustainability-score">78</p>
                        <p class="score-unit">/ 100</p>
                    </div>
                    <div class="efficiency-metrics">
                        <p>💧 Efficacité eau: <span id="water-efficiency">0.0</span> kg/m³</p>
                        <p>🌿 Efficacité azote: <span id="nitrogen-efficiency">0</span>%</p>
                    </div>
                </div>

                <!-- Stars Card -->
                <div class="result-card card-highlight">
                    <h2>⭐ Évaluation globale</h2>
                    <div class="stars-display" id="stars-display">
                        ⭐⭐⭐⭐
                    </div>
                    <p class="stars-text" id="stars-text">Excellent !</p>
                    <p class="budget-remaining">
                        💰 Budget restant: $<span id="budget-remaining">500</span>
                    </p>
                </div>
            </div>

            <!-- NDVI History Chart -->
            <div class="chart-section">
                <h2>📈 Évolution de la santé de votre culture</h2>
                <div class="chart-container-large">
                    <canvas id="final-ndvi-chart"></canvas>
                </div>
            </div>

            <!-- Recommendations -->
            <div class="recommendations-section">
                <h2>💡 Conseils personnalisés</h2>
                <div id="recommendations" class="recommendations-list">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- Region Info -->
            <div class="region-summary">
                <h3 id="region-name">Yaoundé, Cameroun</h3>
                <p id="region-advice">Conseil pour votre région...</p>
            </div>

            <!-- Actions -->
            <div class="results-actions">
                <button id="replay-btn" class="btn btn-primary btn-large">
                    🔄 Rejouer cette région
                </button>
                <button id="change-region-btn" class="btn btn-secondary btn-large">
                    🌍 Changer de région
                </button>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>🎓 TerraGrow Academy - Apprendre l'agriculture de précision</p>
            <p>Données NASA POWER • OrbitSowers Labs 🇨🇲→🇨🇦</p>
        </footer>
    </div>

    <script src="js/api-client.js"></script>
    <script src="js/results.js"></script>
</body>
</html>
